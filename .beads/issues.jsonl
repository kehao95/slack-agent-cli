{"id":"SLACK-1jo","title":"Implement files commands","description":"type: task","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-29T11:24:43.336026-05:00","updated_at":"2026-01-29T11:25:01.971238-05:00","dependencies":[{"issue_id":"SLACK-1jo","depends_on_id":"SLACK-k3i","type":"parent-child","created_at":"2026-01-29T11:25:39.730247-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-1p3","title":"Add comprehensive error handling","description":"type: task","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T11:24:43.338076-05:00","updated_at":"2026-01-29T11:24:43.338076-05:00","dependencies":[{"issue_id":"SLACK-1p3","depends_on_id":"SLACK-k3i","type":"parent-child","created_at":"2026-01-29T11:25:40.777245-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-3jl","title":"Implement messages search","description":"type: task","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-29T11:24:43.335513-05:00","updated_at":"2026-01-29T11:25:01.725179-05:00","dependencies":[{"issue_id":"SLACK-3jl","depends_on_id":"SLACK-k3i","type":"parent-child","created_at":"2026-01-29T11:25:39.447301-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-3kt","title":"Implement messages edit and delete","description":"type: task","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T11:24:43.331386-05:00","updated_at":"2026-01-29T11:24:43.331386-05:00","dependencies":[{"issue_id":"SLACK-3kt","depends_on_id":"SLACK-5ti","type":"parent-child","created_at":"2026-01-29T11:25:27.073758-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-44v","title":"Implement pins add/remove","description":"type: task","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T11:24:43.332443-05:00","updated_at":"2026-01-29T11:24:43.332443-05:00","dependencies":[{"issue_id":"SLACK-44v","depends_on_id":"SLACK-5ti","type":"parent-child","created_at":"2026-01-29T11:25:27.552802-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-4rq","title":"Implement emoji list command","description":"type: task","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-29T11:24:43.33704-05:00","updated_at":"2026-01-29T11:25:02.477348-05:00","dependencies":[{"issue_id":"SLACK-4rq","depends_on_id":"SLACK-k3i","type":"parent-child","created_at":"2026-01-29T11:25:40.251996-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-5oj","title":"EPIC: Real-time Message Streaming","description":"type: epic","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-29T11:24:43.33295-05:00","updated_at":"2026-01-29T11:24:50.056739-05:00"}
{"id":"SLACK-5ti","title":"EPIC: Write Operations","description":"type: epic","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-29T11:24:43.330323-05:00","updated_at":"2026-01-29T11:24:49.797017-05:00"}
{"id":"SLACK-62o","title":"Implement channels join/leave","description":"type: task","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-29T11:24:43.33655-05:00","updated_at":"2026-01-29T11:25:02.240418-05:00","dependencies":[{"issue_id":"SLACK-62o","depends_on_id":"SLACK-k3i","type":"parent-child","created_at":"2026-01-29T11:25:39.992846-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-6w6","title":"Add output formatting utilities","description":"type: task","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T11:24:43.337545-05:00","updated_at":"2026-01-29T11:24:43.337545-05:00","dependencies":[{"issue_id":"SLACK-6w6","depends_on_id":"SLACK-k3i","type":"parent-child","created_at":"2026-01-29T11:25:40.509503-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-780","title":"Initialize Go module and project structure","description":"## Description\nInitialize the Go project structure with module, directories, and CLI framework.\n\n## Acceptance Criteria\n- [ ] `go.mod` exists with module name `github.com/contentsquare/slack-cli`\n- [ ] Directory structure created: `cmd/`, `internal/`, `pkg/`, `docs/`\n- [ ] `main.go` entry point exists and compiles\n- [ ] Cobra CLI framework added as dependency\n- [ ] Viper config framework added as dependency\n- [ ] Root command (`cmd/root.go`) implemented with:\n  - `--config` flag for custom config path\n  - `--json` global flag for JSON output\n  - `--quiet` global flag for minimal output\n  - Version command or flag\n- [ ] `go build ./...` succeeds\n- [ ] `slack-cli --help` shows usage\n\n## Technical Notes\n- Use `cobra-cli init` or manual setup\n- Follow standard Go project layout","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-29T11:24:43.324428-05:00","updated_at":"2026-01-29T11:29:32.259826-05:00","dependencies":[{"issue_id":"SLACK-780","depends_on_id":"SLACK-bu9","type":"parent-child","created_at":"2026-01-29T11:25:14.539968-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-7ig","title":"Implement pins list command","description":"type: task","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T11:24:43.329811-05:00","updated_at":"2026-01-29T11:24:43.329811-05:00","dependencies":[{"issue_id":"SLACK-7ig","depends_on_id":"SLACK-wtp","type":"parent-child","created_at":"2026-01-29T11:25:21.900395-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-7nt","title":"Implement reactions add/remove","description":"type: task","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T11:24:43.331897-05:00","updated_at":"2026-01-29T11:24:43.331897-05:00","dependencies":[{"issue_id":"SLACK-7nt","depends_on_id":"SLACK-5ti","type":"parent-child","created_at":"2026-01-29T11:25:27.305894-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-af8","title":"Implement messages list command","description":"## Description\nImplement the messages list command to fetch channel history.\n\n## Acceptance Criteria\n- [ ] `cmd/messages.go` implements messages command group\n- [ ] `messages list` subcommand with flags:\n  - `--channel` (string, required): channel name or ID\n  - `--limit` (int): max messages (default 50, max 1000)\n  - `--since` (string): messages after time (ISO 8601 or relative: \"1h\", \"2d\")\n  - `--until` (string): messages before time\n  - `--thread` (string): fetch thread replies by thread_ts\n  - `--include-bots` (bool): include bot messages (default true)\n  - `--json` (bool): output as JSON\n- [ ] Human-readable output:\n  ```\n  #general - Last 3 messages\n  ──────────────────────────────\n  [10:32:45] @alice:\n    Hello everyone!\n  ```\n- [ ] JSON output with full message details\n- [ ] Channel name resolution (# prefix or ID)\n- [ ] Relative time parsing (\"1h\", \"2d\", \"1w\")\n- [ ] Pagination support (cursor-based)\n- [ ] Error handling for invalid channel\n- [ ] `slack-cli messages list --help` shows examples\n- [ ] Unit tests for time parsing and output formatting\n- [ ] `go test ./...` passes\n\n## Technical Notes\n- Use `conversations.history` API\n- Use `conversations.replies` for thread mode\n- Cache user info for display name resolution","notes":"Commit 4ce72ab: Added disk cache with incremental pagination. Partial cache support allows resume on timeout. Working on cmd/cache.go for explicit population commands.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-29T11:24:43.328156-05:00","updated_at":"2026-01-29T13:48:59.151455-05:00","dependencies":[{"issue_id":"SLACK-af8","depends_on_id":"SLACK-wtp","type":"parent-child","created_at":"2026-01-29T11:25:21.098917-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-b7q","title":"Implement messages send command","description":"## Description\nImplement the messages send command to post messages to Slack.\n\n## Acceptance Criteria\n- [ ] `messages send` subcommand with flags:\n  - `--channel` (string, required): target channel or @user for DM\n  - `--text` (string): message text\n  - `--thread` (string): thread_ts for reply in thread\n  - `--blocks` (string): Block Kit JSON for rich formatting\n  - `--unfurl-links` (bool): unfurl URLs (default true)\n  - `--unfurl-media` (bool): unfurl media (default true)\n  - `--json` (bool): output sent message details as JSON\n- [ ] Read message from stdin if --text not provided:\n  `echo \"Hello\" | slack-cli messages send --channel \"#general\"`\n- [ ] DM support via @username syntax\n- [ ] Thread reply support\n- [ ] Return sent message timestamp and channel\n- [ ] JSON output includes full message response\n- [ ] Error handling for invalid channel, permissions\n- [ ] `slack-cli messages send --help` shows examples\n- [ ] Unit tests for input parsing\n- [ ] `go test ./...` passes\n\n## Technical Notes\n- Use `chat.postMessage` API\n- For DMs, use `conversations.open` first to get DM channel ID\n- Block Kit JSON should be validated before sending","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T11:24:43.330873-05:00","updated_at":"2026-01-29T11:30:32.311548-05:00","dependencies":[{"issue_id":"SLACK-b7q","depends_on_id":"SLACK-5ti","type":"parent-child","created_at":"2026-01-29T11:25:26.819547-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-bu9","title":"EPIC: Project Setup and Foundation","description":"type: epic","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-29T11:24:43.323388-05:00","updated_at":"2026-01-29T11:24:49.2947-05:00"}
{"id":"SLACK-bys","title":"Implement users commands","description":"type: task","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T11:24:43.328727-05:00","updated_at":"2026-01-29T11:24:43.328727-05:00","dependencies":[{"issue_id":"SLACK-bys","depends_on_id":"SLACK-wtp","type":"parent-child","created_at":"2026-01-29T11:25:21.34506-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-elt","title":"Implement configuration management","description":"## Description\nImplement configuration file management for storing Slack credentials and defaults.\n\n## Acceptance Criteria\n- [ ] Config struct defined in `internal/config/config.go` with fields:\n  - `Version` (int)\n  - `AppToken` (string, xapp-...)\n  - `BotToken` (string, xoxb-...)\n  - `UserToken` (string, optional xoxp-...)\n  - `Defaults` struct (OutputFormat, IncludeBots, TextChunkLimit)\n- [ ] `LoadConfig(path string) (*Config, error)` function\n- [ ] `SaveConfig(path string, cfg *Config) error` function\n- [ ] `ValidateConfig(cfg *Config) error` function\n- [ ] Default config path: `~/.config/slack-cli/config.json`\n- [ ] Environment variable overrides: `SLACK_APP_TOKEN`, `SLACK_BOT_TOKEN`, `SLACK_USER_TOKEN`\n- [ ] `config init` command with interactive prompts\n- [ ] `config show` command displays current config (tokens masked)\n- [ ] `config set \u003ckey\u003e \u003cvalue\u003e` command\n- [ ] Unit tests for Load/Save/Validate functions\n- [ ] `go test ./internal/config/...` passes\n\n## Technical Notes\n- Use Viper for config management\n- Config file is JSON format\n- Mask tokens in output (show first 8 chars only)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-29T11:24:43.325044-05:00","updated_at":"2026-01-29T11:29:42.690212-05:00","dependencies":[{"issue_id":"SLACK-elt","depends_on_id":"SLACK-bu9","type":"parent-child","created_at":"2026-01-29T11:25:14.808775-05:00","created_by":"Hao Ke"},{"issue_id":"SLACK-elt","depends_on_id":"SLACK-780","type":"blocks","created_at":"2026-01-29T11:25:49.545228-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-fg5","title":"Write documentation and examples","description":"type: task","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-29T11:24:43.338735-05:00","updated_at":"2026-01-29T11:25:02.714398-05:00","dependencies":[{"issue_id":"SLACK-fg5","depends_on_id":"SLACK-k3i","type":"parent-child","created_at":"2026-01-29T11:25:41.057323-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-fxj","title":"Implement Socket Mode connection","description":"## Description\nImplement Socket Mode connection for real-time event streaming.\n\n## Acceptance Criteria\n- [ ] Socket Mode client in `internal/watch/socket.go`\n- [ ] `SocketClient` struct with methods:\n  - `Connect() error` - establish connection\n  - `Disconnect() error` - graceful shutdown\n  - `Events() \u003c-chan Event` - channel for receiving events\n- [ ] Event struct defined:\n  ```go\n  type Event struct {\n      Type      string    // message, reaction_added, etc.\n      Timestamp time.Time\n      Channel   string\n      User      string\n      Text      string    // for messages\n      Reaction  string    // for reactions\n      ThreadTS  string    // for thread replies\n      Raw       json.RawMessage\n  }\n  ```\n- [ ] Handle connection lifecycle (connect, reconnect on disconnect, shutdown)\n- [ ] Handle SIGINT/SIGTERM for graceful shutdown\n- [ ] Reconnect with exponential backoff on connection loss\n- [ ] Unit tests for event parsing\n- [ ] `go test ./internal/watch/...` passes\n\n## Technical Notes\n- Use `slack.socketmode` package\n- App token required for Socket Mode (xapp-...)\n- Subscribe to events: message.*, reaction_added, reaction_removed","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-29T11:24:43.333483-05:00","updated_at":"2026-01-29T11:30:01.905708-05:00","dependencies":[{"issue_id":"SLACK-fxj","depends_on_id":"SLACK-5oj","type":"parent-child","created_at":"2026-01-29T11:25:33.055193-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-k3i","title":"EPIC: Advanced Features","description":"type: epic","status":"open","priority":3,"issue_type":"epic","created_at":"2026-01-29T11:24:43.335002-05:00","updated_at":"2026-01-29T11:24:50.300026-05:00"}
{"id":"SLACK-lra","title":"Implement watch command","description":"## Description\nImplement the watch command for real-time message streaming.\n\n## Acceptance Criteria\n- [ ] `cmd/watch.go` implements watch command\n- [ ] Flags implemented:\n  - `--channels` (string): comma-separated channel filter\n  - `--include-bots` (bool): include bot messages\n  - `--include-own` (bool): include own messages  \n  - `--include-threads` (bool): include thread replies (default true)\n  - `--timeout` (duration): auto-exit after duration (e.g., \"60s\", \"5m\")\n  - `--events` (string): event types to watch\n  - `--json` (bool): output as JSON lines\n  - `--quiet` (bool): suppress status messages\n- [ ] Human-readable output format:\n  `[2024-01-15 10:32:45] #general | @alice: Hello everyone!`\n- [ ] JSON output format (one event per line):\n  `{\"type\":\"message\",\"ts\":\"...\",\"channel\":\"...\",\"text\":\"...\"}`\n- [ ] Channel filtering works correctly\n- [ ] Timeout flag exits after specified duration\n- [ ] Ctrl+C gracefully stops watching\n- [ ] `slack-cli watch --help` shows usage with examples\n- [ ] Integration test (skipped without credentials)\n\n## Technical Notes\n- Uses SocketClient from SLACK-fxj\n- Enrich events with channel/user names before output\n- Buffer stdout for JSON lines (flush after each event)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-29T11:24:43.333992-05:00","updated_at":"2026-01-29T11:30:12.905363-05:00","dependencies":[{"issue_id":"SLACK-lra","depends_on_id":"SLACK-5oj","type":"parent-child","created_at":"2026-01-29T11:25:33.304492-05:00","created_by":"Hao Ke"},{"issue_id":"SLACK-lra","depends_on_id":"SLACK-fxj","type":"blocks","created_at":"2026-01-29T11:25:50.347756-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-n8l","title":"Integrate Slack SDK (slack-go)","description":"## Description\nIntegrate the slack-go SDK and create a client wrapper for API calls.\n\n## Acceptance Criteria\n- [ ] `github.com/slack-go/slack` added to go.mod\n- [ ] Client interface defined in `internal/slack/client.go`:\n  ```go\n  type Client interface {\n      TestAuth() (*slack.AuthTestResponse, error)\n      GetChannels() ([]slack.Channel, error)\n      GetConversationHistory(params *slack.GetConversationHistoryParameters) (*slack.GetConversationHistoryResponse, error)\n      PostMessage(channel string, options ...slack.MsgOption) (string, string, error)\n      // ... other methods as needed\n  }\n  ```\n- [ ] Concrete implementation: `internal/slack/slack_client.go`\n- [ ] Mock implementation: `internal/slack/mock_client.go` for testing\n- [ ] `NewClient(botToken, appToken string) (Client, error)` constructor\n- [ ] Token validation in constructor (fail fast if invalid format)\n- [ ] Unit tests with mock client\n- [ ] `go test ./internal/slack/...` passes\n\n## Technical Notes\n- Bot token for API calls (xoxb-...)\n- App token for Socket Mode (xapp-...)\n- Use interface for testability","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-29T11:24:43.3258-05:00","updated_at":"2026-01-29T11:29:52.127338-05:00","dependencies":[{"issue_id":"SLACK-n8l","depends_on_id":"SLACK-bu9","type":"parent-child","created_at":"2026-01-29T11:25:15.077035-05:00","created_by":"Hao Ke"},{"issue_id":"SLACK-n8l","depends_on_id":"SLACK-780","type":"blocks","created_at":"2026-01-29T11:25:49.818692-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-odc","title":"Implement auth commands","description":"type: task","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-29T11:24:43.326377-05:00","updated_at":"2026-01-29T11:24:56.24983-05:00","dependencies":[{"issue_id":"SLACK-odc","depends_on_id":"SLACK-bu9","type":"parent-child","created_at":"2026-01-29T11:25:15.338831-05:00","created_by":"Hao Ke"},{"issue_id":"SLACK-odc","depends_on_id":"SLACK-n8l","type":"blocks","created_at":"2026-01-29T11:25:50.080186-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-qsx","title":"Implement channels commands","description":"type: task","notes":"Cache layer complete: channels command now uses NewCachedResolver, --refresh-cache flag added. Channel metadata cached to disk with 7-day TTL for instant lookups.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-29T11:24:43.327518-05:00","updated_at":"2026-01-29T13:43:29.210511-05:00","dependencies":[{"issue_id":"SLACK-qsx","depends_on_id":"SLACK-wtp","type":"parent-child","created_at":"2026-01-29T11:25:20.847385-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-t3m","title":"Implement reactions list command","description":"type: task","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T11:24:43.329278-05:00","updated_at":"2026-01-29T11:24:43.329278-05:00","dependencies":[{"issue_id":"SLACK-t3m","depends_on_id":"SLACK-wtp","type":"parent-child","created_at":"2026-01-29T11:25:21.645254-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-tk4","title":"Implement event handlers","description":"type: task","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-29T11:24:43.334484-05:00","updated_at":"2026-01-29T11:24:43.334484-05:00","dependencies":[{"issue_id":"SLACK-tk4","depends_on_id":"SLACK-5oj","type":"parent-child","created_at":"2026-01-29T11:25:33.574261-05:00","created_by":"Hao Ke"},{"issue_id":"SLACK-tk4","depends_on_id":"SLACK-lra","type":"blocks","created_at":"2026-01-29T11:25:50.600895-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-w6n","title":"Create release pipeline","description":"type: task","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-29T11:24:43.339301-05:00","updated_at":"2026-01-29T11:25:02.964032-05:00","dependencies":[{"issue_id":"SLACK-w6n","depends_on_id":"SLACK-k3i","type":"parent-child","created_at":"2026-01-29T11:25:41.338204-05:00","created_by":"Hao Ke"}]}
{"id":"SLACK-wtp","title":"EPIC: Read Operations","description":"type: epic","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-29T11:24:43.326975-05:00","updated_at":"2026-01-29T11:24:49.554072-05:00"}
{"id":"SLACK-wtp.1","title":"Implement cached ID lookup for Slack entities","description":"## Summary\nAdd a local caching layer for resolving Slack IDs (channels, conversations, users). The CLI should avoid paging through Slack APIs on every run by persisting a name→ID map and refreshing it when entries expire.\n\n## Acceptance Criteria\n- Cache stores mappings for channel names (#foo), user handles (@alice), and conversation types used by existing commands.\n- Cache persisted locally (e.g., JSON file under ~/.cache/slack-cli/) with configurable TTL and max size.\n- Commands first check cache before hitting Slack; missing entries trigger a background refresh and update cache.\n- Provide CLI flag/env to force refresh or bypass cache for one-off operations.\n- Unit tests covering cache hit/miss behavior and TTL expiry logic.","status":"open","priority":2,"issue_type":"task","owner":"hao.ke@heap.io","created_at":"2026-01-29T13:26:37.992528-05:00","created_by":"Hao Ke","updated_at":"2026-01-29T13:26:37.992528-05:00","dependencies":[{"issue_id":"SLACK-wtp.1","depends_on_id":"SLACK-wtp","type":"parent-child","created_at":"2026-01-29T13:26:37.99341-05:00","created_by":"Hao Ke"}]}
